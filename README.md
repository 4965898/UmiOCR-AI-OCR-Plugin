# Gemini OCR Plugin for Umi-OCR

基于Google Gemini API的OCR插件，为Umi-OCR提供云端文字识别功能。

## 功能特点

- 🚀 **高精度识别**：基于Google最新的Gemini模型，支持多种语言文字识别
- 🌍 **多语言支持**：支持中文、英文、日文、韩文等多种语言
- ⚡ **多模型选择**：支持Gemini 1.5 Flash（快速）和Gemini 1.5 Pro（高精度）
- 📍 **坐标提取**：可选择输出文字的位置坐标信息
- 🔧 **灵活配置**：支持图像质量、尺寸、超时等多项参数调整
- 🌐 **代理支持**：支持HTTP代理，适应不同网络环境

## 安装要求

1. **Umi-OCR软件**：需要安装Umi-OCR v2.0+
2. **Google Gemini API密钥**：需要在[Google AI Studio](https://aistudio.google.com/)获取API密钥
3. **网络连接**：需要能够访问Google API服务

## 安装步骤

1. 将整个`GeminiOCR`文件夹复制到Umi-OCR的插件目录：
   ```
   UmiOCR-data/plugins/GeminiOCR/
   ```

2. 重启Umi-OCR软件

3. 在OCR引擎选择中找到"Gemini OCR（云端）"

## 配置说明

### 全局配置

- **API密钥**：在Google AI Studio获取的API密钥
- **模型选择**：
  - `Gemini 1.5 Flash`：速度快，适合批量处理
  - `Gemini 1.5 Pro`：精度高，适合重要文档
- **请求超时**：API请求的超时时间（5-120秒）
- **重试次数**：请求失败时的重试次数（0-10次）
- **代理地址**：可选的HTTP代理设置

### 局部配置

- **识别语言**：指定文字语言可提高识别精度
- **输出格式**：
  - `仅文本`：只输出识别的文字内容
  - `包含坐标`：尝试提取文字的位置信息
- **图像质量**：影响识别精度和传输速度
- **最大图像尺寸**：控制上传图像的大小，影响API成本

## 使用方法

1. **获取API密钥**：
   - 访问[Google AI Studio](https://aistudio.google.com/)
   - 创建新项目或使用现有项目
   - 生成API密钥并复制

2. **配置插件**：
   - 在Umi-OCR中选择"Gemini OCR（云端）"
   - 在全局设置中输入API密钥
   - 根据需要调整其他参数

3. **开始识别**：
   - 使用截图OCR、批量OCR等功能
   - 插件会自动调用Gemini API进行识别

## 注意事项

1. **API成本**：Gemini API按使用量计费，请注意控制使用频率
2. **网络要求**：需要稳定的网络连接访问Google服务
3. **图像大小**：建议设置合适的最大图像尺寸以控制成本
4. **隐私安全**：图像会上传到Google服务器进行处理
5. **速度限制**：云端API可能有速度限制，不适合大量并发请求

## 故障排除

### 常见问题

1. **API密钥无效**：
   - 检查密钥是否正确复制
   - 确认API密钥权限和配额

2. **网络连接失败**：
   - 检查网络连接
   - 尝试配置代理服务器
   - 确认防火墙设置

3. **识别结果为空**：
   - 检查图像是否包含清晰的文字
   - 尝试调整图像质量设置
   - 指定具体的识别语言

4. **请求超时**：
   - 增加超时时间设置
   - 减小图像尺寸
   - 检查网络速度

## 版本历史

### v1.0.0
- 初始版本发布
- 支持基本的OCR识别功能
- 支持坐标提取
- 支持多语言识别
- 支持代理配置
- 增强文本布局保持功能

## 许可证

本插件遵循MIT许可证。详见LICENSE文件。

## 贡献

欢迎提交Issue和Pull Request来改进这个插件。

## 支持

如果您在使用过程中遇到问题，请：
1. 查看故障排除部分
2. 在GitHub上提交Issue
3. 访问Umi-OCR官方社区寻求帮助
